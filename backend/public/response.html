
<html>
    <head>
    <script src="https://kit.fontawesome.com/8fd2dbd2a5.js" crossorigin="anonymous"></script>  
      <style>
        * {
margin: 0;
padding: 0;
box-sizing: border-box;
list-style: none;
}

:root {
--primary-color: rgb(38, 88, 139);
--second-color: rgb(127, 174, 222);
--third-color: rgb(16, 50, 84);
}

.template1 {
width: 21.0058cm;
height: 29.7cm;
background: rgb(255, 255, 255);
box-shadow: 0 4px 50px #00000033;
display: flex;
flex-direction: row;
}

.section1 {
width: 40%;
height: 100%;
background-color: var(--primary-color);
padding: 1cm;
align-items: center;
}

.section2 {
width: 60%;
height: 100%;
display: flex;
flex-direction: column;
align-items: center;
padding: 1cm;
}

.section1_foto {
width: 100%;
aspect-ratio: 1 / 1;
background-color: gray;
border: #dbdbdb 3px solid;
margin-bottom: 1cm;
}

.section1_perfil_nombre {
text-transform: capitalize;
align-self: flex-start;
padding: 0.5cm;
padding-top: 0.2cm;
}

.section1_perfil_nombre h2 {
color: white;
}

.section1_perfil_nombre h3 {
color: var(--second-color);
}

.section1_perfil_contacto {
align-self: flex-start;
padding: 0.5cm;
border-bottom: 3px solid var(--second-color);
}

.section1_perfil_contacto li {
display: flex;
flex-direction: row;
flex-wrap: nowrap;
align-items: center;
gap: 0.2cm;
margin-bottom: 0.4cm;
}

.icon {
background-color: white;
border: 3px solid white;
border-radius: 50%;
color: var(--primary-color);
width: 20px;
height: 20px;
display: flex;
align-items: center;
justify-content: center;
}

.icon i {
font-size: 12px;
}

.section1_perfil_contacto .data {
color: white;
}

.section1_habilidades {
align-self: flex-start;
padding: 0.5cm;
width: 100%;
}

.section1_title {
color: white;
margin-bottom: 20px;
}

.section1_habilidades li {
display: flex;
flex-direction: column;
flex-wrap: nowrap;
align-items: center;
gap: 0.2cm;
margin-bottom: 0.6cm;
padding-left: 10px;
}

.template1_progressbar_header {
display: flex;
flex-direction: row;
width: 100%;
justify-content: space-between;
color: white;
}

.template1_progressbar {
background-color: var(--third-color);
width: 100%;
height: 15px;
border-radius: 15px;
z-index: 0;
}

.template1_progressbar_data {
color: white;
background-color: var(--second-color);
height: 100%;
border-radius: 15px;
z-index: 1;
max-width: 100%;
}

.section2_descripcion {
text-align: start;
width: 100%;
margin-bottom: 1cm;
}

.section2_title {
font-size: 2em;
margin-bottom: 0.3cm;
color: var(--primary-color);
}

.section2_container {
border-top: 3px solid var(--primary-color);
padding-top: 0.5cm;
width: 100%;
}

.section2_container li {
margin-left: 0.5cm;
display: flex;
flex-direction: column;
gap: 2px;
margin-bottom: 0.3cm;
}

.section2_container_titulo {
color: var(--third-color);
font-weight: bold;
text-transform: uppercase;
font-size: 1.2em;
}

.section2_container_puesto {
text-transform: capitalize;
font-size: em;
color: var(--third-color);
font-weight: bold;
margin-left: 8px;
}

.section2_container_fecha {
margin-left: 8px;
font-size: em;
}

.idiomas ul {
display: grid;
grid-template-columns: 1fr 1fr;
}

.page_break {
width: 100%;
padding: 0.7cm 0;
}

.page_break_large {
width: 100%;
padding: 1.8cm 0;
}
      </style>
      <script>
        // Función para encontrar el elemento a una altura específica de la página
        document.addEventListener('DOMContentLoaded', function () {
            const habilidades = document.querySelectorAll('.section1_habilidades ul li');      
            const experiencias = document.querySelectorAll('.experiencias ul li');
            const formaciones = document.querySelectorAll('.formaciones ul li');
            const idiomas = document.querySelectorAll('.idiomas ul li');
            const formacionesContainer = document.getElementsByClassName('formaciones')[0];    
            const idiomasContainer = document.getElementsByClassName('idiomas')[0];

            const section1 = document.getElementsByClassName('section1')[0];
            const section2 = document.getElementsByClassName('section2')[0];
            const section1bottom = section1.getBoundingClientRect().bottom;
            const section2bottom = section2.getBoundingClientRect().bottom;

            let pageBreakInserted = false;
            let hasBreak = false;

            habilidades?.forEach((element) => {
                const rect = element.getBoundingClientRect();
                const elementTop = rect.bottom;

                // Verificar si el borde superior del elemento está cerca de la altura objetivo
                if (elementTop > section1bottom && !pageBreakInserted) {
                    // Insertar un div de clase page-break justo antes de este elemento        
                    const breakDiv = document.createElement('div');
                    breakDiv.className = 'page_break';
                    element.parentNode.insertBefore(breakDiv, element);
                    pageBreakInserted = true;
                    hasBreak = true;
                }
            });

            pageBreakInserted = false;

            experiencias?.forEach((element) => {
                const rect = element.getBoundingClientRect();
                const elementTop = rect.bottom;

                // Verificar si el borde superior del elemento está cerca de la altura objetivo
                if (elementTop > section2bottom && !pageBreakInserted) {
                    // Insertar un div de clase page-break justo antes de este elemento        
                    const breakDiv = document.createElement('div');
                    breakDiv.className = 'page_break';
                    element.parentNode.insertBefore(breakDiv, element);
                    pageBreakInserted = true;
                    hasBreak = true;
                }
            });

            if (formacionesContainer?.getBoundingClientRect().top > (section2bottom - 60) && !pageBreakInserted) {

                // Insertar un div de clase page-break justo antes de este elemento
                const breakDiv = document.createElement('div');
                breakDiv.className = 'page_break';
                formacionesContainer.parentNode.insertBefore(breakDiv, formacionesContainer);  
                pageBreakInserted = true;
                hasBreak = true;
            }

            if (formacionesContainer?.getBoundingClientRect().top > (section2bottom - 130) && !pageBreakInserted) {

                // Insertar un div de clase page-break justo antes de este elemento
                const breakDiv = document.createElement('div');
                breakDiv.className = 'page_break_large';
                formacionesContainer.parentNode.insertBefore(breakDiv, formacionesContainer);  
                pageBreakInserted = true;
                hasBreak = true;
                console.log(formacionesContainer.getBoundingClientRect().bottom + " " + section2bottom + " " + section1bottom)
            }

            formaciones?.forEach((element) => {
                const rect = element.getBoundingClientRect();
                const elementTop = rect.bottom;

                // Verificar si el borde superior del elemento está cerca de la altura objetivo
                if (elementTop > section2bottom && !pageBreakInserted) {
                    // Insertar un div de clase page-break justo antes de este elemento        
                    const breakDiv = document.createElement('div');
                    breakDiv.className = 'page_break';
                    element.parentNode.insertBefore(breakDiv, element);
                    pageBreakInserted = true;
                    hasBreak = true;
                }
            });

            if (idiomasContainer?.getBoundingClientRect().top > (section2bottom - 60) && !pageBreakInserted) {

                // Insertar un div de clase page-break justo antes de este elemento
                const breakDiv = document.createElement('div');
                breakDiv.className = 'page_break';
                idiomasContainer.parentNode.insertBefore(breakDiv, idiomasContainer);
                pageBreakInserted = true;
                hasBreak = true;
            }

            if (idiomasContainer?.getBoundingClientRect().top > (section2bottom - 130) && !pageBreakInserted) {

                // Insertar un div de clase page-break justo antes de este elemento
                const breakDiv = document.createElement('div');
                breakDiv.className = 'page_break_large';
                idiomasContainer.parentNode.insertBefore(breakDiv, idiomasContainer);
                pageBreakInserted = true;
                hasBreak = true;
                console.log(idiomasContainer.getBoundingClientRect().bottom + " " + section2bottom + " " + section1bottom)
            }

            idiomas?.forEach((element) => {
                const rect = element.getBoundingClientRect();
                const elementTop = rect.bottom;

                // Verificar si el borde superior del elemento está cerca de la altura objetivo
                if (elementTop > (section2bottom - 37.8) && !pageBreakInserted) {
                    // Insertar un div de clase page-break justo antes de este elemento        
                    const breakDiv = document.createElement('div');
                    breakDiv.className = 'page_break';
                    element.parentNode.insertBefore(breakDiv, element);
                    pageBreakInserted = true;
                    hasBreak = true;
                    console.log(element)
                }
            });

            if (hasBreak) {
                const template1 = document.getElementsByClassName('template1')[0];
                const computedHeight = window.getComputedStyle(template1).height;
                const originalHeight = parseFloat(computedHeight.replace('px', ''));
                template1.style.height = (originalHeight * 2) + 'px';
            }
        });
    </script>
    </head>
    <body>
      <section class="template1"><div class="section1"><div class="section1_perfil_nombre"><h2>sdfs<!-- --> <!-- -->s</h2><h3>sdfsd</h3></div><div class="section1_perfil_contacto"><ul><li><div class="icon"><i class="fa-solid fa-calendar-days"></i></div><div class="data">0003-03-31</div></li><li><div class="icon"><i class="fa-solid fa-phone"></i></div><div class="data">694462479</div></li><li><div class="icon"><i class="fa-solid fa-envelope"></i></div><div class="data">fff@dhdo.d</div></li><li><div class="icon"><i class="fa-solid fa-house"></i></div><div class="data">Calle Arzobispo de Pedro Castro, 19, P6, 2ºA</div></li></ul></div></div><div class="section2"><div class="section2_descripcion"><h2 class="section2_title">Sobre mi</h2><p>sdfsdfdsfsdf</p></div><div class="section2_container experiencias"><h2 class="section2_title">Experiencia Laboral</h2><ul><li><div class="section2_container_titulo">sss</div><div class="section2_container_puesto">sss</div><div class="section2_container_fecha">11/05/2024 - Actualidad</div></li></ul></div><div class="section2_container formaciones"><h2 class="section2_title">Formación Academica</h2><ul><li><div class="section2_container_titulo">d</div><div class="section2_container_puesto">sdfsdf</div><div class="section2_container_fecha">10/05/2024 - Actualidad</div></li><li><div class="section2_container_titulo">asdf</div><div class="section2_container_puesto">sdf</div><div class="section2_container_fecha">21/02/2 - Actualidad</div></li><li><div class="section2_container_titulo">asdf</div><div class="section2_container_puesto">asdf</div><div class="section2_container_fecha">21/02/22 - Actualidad</div></li><li><div class="section2_container_titulo">222</div><div class="section2_container_puesto">222</div><div class="section2_container_fecha">03/04/44 - Actualidad</div></li><li><div class="section2_container_titulo">2</div><div class="section2_container_puesto">22</div><div class="section2_container_fecha">03/04/44 - Actualidad</div></li><li><div class="section2_container_titulo">fasdf</div><div class="section2_container_puesto">adfad</div><div class="section2_container_fecha">30/03/3 - 01/05/2024</div></li><li><div class="section2_container_titulo">sdf</div><div class="section2_container_puesto">sfdfsdf</div><div class="section2_container_fecha">03/04/44 - 03/04/44</div></li><li><div class="section2_container_titulo">adfs</div><div class="section2_container_puesto">d</div><div class="section2_container_fecha">21/02/2 - 21/02/22</div></li><li><div class="section2_container_titulo">dasdf</div><div class="section2_container_puesto">asdf</div><div class="section2_container_fecha">30/03/33 - 30/03/3</div></li><li><div class="section2_container_titulo">fsdf</div><div class="section2_container_puesto">sdfsd</div><div class="section2_container_fecha">30/03/33 - 30/03/3</div></li><li><div class="section2_container_titulo">sdf</div><div class="section2_container_puesto">sdf</div><div class="section2_container_fecha">21/02/2 - 02/03/3</div></li></ul></div></div></section>
    </body>
  </html>